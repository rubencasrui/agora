<!-- Modal de los seguidores -->
<ng-template #seguidores let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Seguidores de @{{usuario.nick}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container" *ngIf="seguidoresObjeto.length > 0">
      <div class="row" *ngFor="let seguidor of seguidoresObjeto">
        <div class="col-12 mb-3">
          <a routerLink="/usuarios/{{seguidor._id}}" (click)="modal.dismiss('Cross click')">
            <img id="imagen_de_perfil" class="img-fluid rounded-circle img-seguimientos mr-3" [src]="'assets/fotoPerfil/' + seguidor._id + '.jpg'" alt="Foto de perfil" />
            <span class="text-dark">@{{seguidor.nick}}</span>
          </a>
        </div>
      </div>
    </div>
    <div class="container" *ngIf="seguidoresObjeto.length == 0">
      <p class="text-danger">Sin seguidores</p>
    </div>
  </div>
</ng-template>

<!-- Modal de los seguimientos -->
<ng-template #seguimientos let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Seguimientos de @{{usuario.nick}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container" *ngIf="seguimientosObjeto.length > 0">
      <div class="row" *ngFor="let seguimiento of seguimientosObjeto">
        <div class="col-12 mb-3">
          <a routerLink="/usuarios/{{seguimiento._id}}" (click)="modal.dismiss('Cross click')">
            <img id="imagen_de_perfil" class="img-fluid rounded-circle img-seguimientos mr-3" [src]="'assets/fotoPerfil/' + seguimiento._id + '.jpg'" alt="Foto de perfil" />
            <span class="text-dark">@{{seguimiento.nick}}</span>
          </a>
        </div>
      </div>
    </div>
    <div class="container" *ngIf="seguimientosObjeto.length == 0">
      <p class="text-danger">Sin seguimientos</p>
    </div>
  </div>
  </ng-template>


  

<div class="container">
  <div class="row">
    <div class="col-12">

      <div id="card" class="card text-white bg-success">

        <div class="card-header">
          <div class="row">
            <div class="col-12 col-sm-3">
              <img id="imagen_de_perfil" class="img-fluid rounded-circle mr-3" [src]="'assets/fotoPerfil/' + id + '.jpg'" alt="Foto de perfil" />
            </div>
            <div class="col-12 col-sm-9">
              <h5>@{{usuario.nick}}</h5>
              <div class="row justify-content-center">
                <div class="col-12">
                  <span class="mr-3">X publicaciones</span>
                  <button class="btn btn-outline-light ml-3 mr-3" (click)="seguidoresModal(seguidores)">{{seguidoresCantidad}} seguidores</button>
                  <button class="btn btn-outline-light ml-3" (click)="seguimientosModal(seguimientos)">{{seguimientosCantidad}} seguimientos</button>
                </div>
              </div>

              <nav *ngIf="id === miId" class="navbar navbar-expand-sm navbar-dark mt-3">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a routerLink="/subir-publicacion" class="nav-link"><i class="fas fa-upload"></i> Subir publicaci√≥n</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" routerLink="/configuracion"><i class="fas fa-cog"></i> Configurar perfil</a>
                  </li>
                </ul>
              </nav>
              
              <div *ngIf="id !== miId" class="row justify-content-center">
                <div class="col-12 mt-3">
                  <div class="seguimientos">
                    <span *ngIf="seguidor === true" class="text-white">Te sigue</span>
                    <span *ngIf="seguidor === false" class="text-white">No te sigue</span>
                    <span class="text-white">, </span>
                    <span *ngIf="seguimiento === true" class="text-white">Le sigues</span>
                    <span *ngIf="seguimiento === false" class="text-white">No le sigues</span>
                    <button *ngIf="seguimiento === true" (click)="cambiarSeguimientoPerfil()" class="btn btn-danger ml-3">Dejar de seguir</button>
                    <button *ngIf="seguimiento === false" (click)="cambiarSeguimientoPerfil()" class="btn btn-primary ml-3">Seguir</button>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="card-body">
          <h5 class="card-title">{{usuario.nombre + " " + usuario.apellidos}}</h5>
          <p class="card-text">{{usuario.descripcion}}</p>
        </div>

      </div>

    </div>
  </div>
</div>
